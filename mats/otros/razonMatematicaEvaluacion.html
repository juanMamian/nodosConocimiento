<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta https-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://pe-pe-pe.herokuapp.com/public/resources/libraries/vue.global.js"></script>

    <script
        src="https://pe-pe-pe.herokuapp.com/public/atlasConocimiento/nodosConocimiento/recursos/components/bloque.js"></script>
    <script
        src="https://pe-pe-pe.herokuapp.com/public/atlasConocimiento/nodosConocimiento/recursos/components/enlace.js"></script>
    <script
        src="https://pe-pe-pe.herokuapp.com/public/atlasConocimiento/nodosConocimiento/recursos/components/recuadro.js"></script>

    <link rel="stylesheet"
        href="https://pe-pe-pe.herokuapp.com/public/atlasConocimiento/nodosConocimiento/recursos/estilos/estilosGenerales.css">
    <link rel="stylesheet"
        href="https://pe-pe-pe.herokuapp.com/public/atlasConocimiento/nodosConocimiento/recursos/components/recuadroEstilo.css">
    <link rel="stylesheet"
        href="https://pe-pe-pe.herokuapp.com/public/atlasConocimiento/nodosConocimiento/recursos/components/bloqueEstilo.css">
    <link rel="stylesheet"
        href="https://pe-pe-pe.herokuapp.com/public/atlasConocimiento/nodosConocimiento/recursos/components/enlaceEstilo.css">



    <title>Evaluación - Razón matemática</title>
</head>

<body>
    <div id="doc">
        Comprendo el concepto de razón matemática si:
        <bloque-component tipo="evaluacion"
            textoCabecera="Dadas dos cantidades, puedo determinar la razón matemática entre ellas.">

            <div class="flexVertical">
                <recuadro-component tipo='instruccionPointer'>
                    <div class="flexVertical">
                        Selecciona la dificultad
                        <input type="range" v-model.number="e1Dificultad" min="1" max="3">
                        {{e1Dificultad}}
                    </div>
                </recuadro-component>

                <button class="boton" @click="e1GenerarReto">
                    Generar dos números
                </button>

                <div class="zonaReto" v-if="e1Reto">
                    <div class="contenedorNumeros">
                        <transition name="popIn">
                            <div class="numero1">
                                {{e1Reto.numero1}}
                            </div>
                        </transition>
                        <transition name="popIn">
                            <div class="numero2">
                                {{e1Reto.numero2}}
                            </div>
                        </transition>
                    </div>
                </div>

            </div>
        </bloque-component>
    </div>
</body>

</html>

<script type="module">
    import {useEvaluacionNodo} from "https://pe-pe-pe.herokuapp.com/public/atlasConocimiento/nodosConocimiento/recursos/composables/evaluacionNodo.js"
    const {createApp, ref, computed, nextTick} = Vue;
    createApp({
        components: {
            recuadroComponent,
            bloqueComponent,
            enlaceComponent
        },
        setup() {
            function e1AddToGenerarReto() {
                e1Reto.value = {};
                const minNumero = 2;
                const maxNumero = 50;
                const rangoNumero = maxNumero - minNumero;
                e1Reto.value.numero2 = Math.random() * rangoNumero + minNumero;

                let minFactor = 2;
                const resolucion = 1;
                let maxFactor = 20;

                if (e1Dificultad.value > 1) {
                    resolucion = 0.1;
                    minFactor = 5;
                    maxFactor = 200;
                }

                const rangoFactor = maxFactor - minFactor;
                const factor = (Math.random() * rangoFactor + minFactor) * resolucion;
                e1Reto.value.numero1 = e1Reto.value.numero2 * factor;
                e1Respuesta.value = factor;


                if (this.dificultad > 2) {
                    const dado = Math.random();// para decidir si el número grande sale primero o segundo.
                    if (dado > 0.5) {//Intercambiar los números
                        let temp = e1Reto.value.numero1;
                        e1Reto.value.numero1 = e1Reto.value.numero2;
                        e1Reto.value.numero2 = temp;
                        e1Respuesta.value = 1 / e1Respuesta.value;
                    }
                }

            }

            const {dificultad: e1Dificultad, versionReto: e1VersionReto, reto: e1Reto, reiniciarReto: e1ReiniciarReto, generarReto: e1GenerarReto, respuesta: e1Respuesta, respuestaUsuarioCorrecta: e1RespuestaUsuarioCorrecta, versionRespuestaUsuario: e1VersionRespuestaUsuario, inputRespuestaUsuario: e1InputRespuestaUsuario, evaluarRespuestaUsuario: e1EvaluarRespuestaUsuario} = useEvaluacionNodo(e1AddToGenerarReto);

            return {
                e1Dificultad, e1VersionReto, e1Reto, e1ReiniciarReto, e1GenerarReto, e1Respuesta, e1RespuestaUsuarioCorrecta, e1VersionRespuestaUsuario, e1InputRespuestaUsuario, e1EvaluarRespuestaUsuario
            }
        },
    }).mount("#doc");
</script>

<style>

</style>
