<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta https-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://juanmamian.github.io/nodosConocimiento/recursos/librerias/vue.global.js"></script>

    <script id="MathJax-script" async
        src="https://juanmamian.github.io/nodosConocimiento/recursos/librerias/MathJax/es5/tex-chtml.js"></script>

    <script
        src="https://juanmamian.github.io/nodosConocimiento/recursos/components/bloque.js"></script>
    <script
        src="https://juanmamian.github.io/nodosConocimiento/recursos/components/enlace.js"></script>
    <script
        src="https://juanmamian.github.io/nodosConocimiento/recursos/components/recuadro.js"></script>

    <link rel="stylesheet" href="https://juanmamian.github.io/nodosConocimiento/recursos/estilos/estilosGenerales.css">
    <link rel="stylesheet"
        href="https://juanmamian.github.io/nodosConocimiento/recursos/components/recuadroEstilo.css">
    <link rel="stylesheet"
        href="https://juanmamian.github.io/nodosConocimiento/recursos/components/bloqueEstilo.css">
    <link rel="stylesheet"
        href="https://juanmamian.github.io/nodosConocimiento/recursos/components/enlaceEstilo.css">



    <title>Expresión numérica anidada</title>
</head>

<body>

    <div id="doc">

        <p tipo="datoPrevio">
            Los operandos de una expresión numérica son números y, por lo tanto,
            también pueden ser representados como expresiones numéricas.
        </p>

        <recuadro-component tipo='datoPrevio'>
            Cuando un operando es una expresión numérica, se escribe con paréntesis.
        </recuadro-component>


        <bloque-component tipo="ejemplo" @desplegado="ejemploDesplegado" @plegado="ejemploPlegado"
            textoCabecera="En este cuadro se puede ver una expresion numérica y se pueden expresar sus operandos en forma de nuevas expresiones numéricas">

            <recuadro-component tipo="instruccionPointer">
                Toca los operandos de estas expresiónes numéricas para cambiar el modo en que están expresados
            </recuadro-component>

            <div class="listaEjemplos">
                <div class="itemEjemplo">
                    <div class="expresionNumerica">
                        <div class="numeroTransformable" @click.stop="e1DireccionesTransformadasToggle(0,'0')">
                            <div class="explicito" :class="{reemplazado: e1DireccionesTransformadas[0].includes('0')}">
                                \(18\)
                            </div>
                            <transition name="foldUnfoldHorizontal">
                                <div v-show="e1DireccionesTransformadas[0].includes('0')">
                                    <div class="numeroTransformable"
                                        @click.stop="e1DireccionesTransformadasToggle(0,'00')">
                                        <div class="explicito"
                                            :class="{reemplazado: e1DireccionesTransformadas[0].includes('00')}">
                                            \( 10 \)
                                        </div>
                                        <transition name="foldUnfoldHorizontal">
                                            <div class="numeroTransformable"
                                                @click.stop="e1DireccionesTransformadasToggle(0,'00')"
                                                v-show="e1DireccionesTransformadas[0].includes('00')">\( ({30 \over 3}) \)
                                            </div>
                                        </transition>
                                    </div>

                                    <div @click.stop="e1DireccionesTransformadasToggle(0,'0')">
                                        \(+\)
                                    </div>

                                    <div class="numeroTransformable"
                                        @click.stop="e1DireccionesTransformadasToggle(0,'01')">
                                        <div class="explicito"
                                            :class="{reemplazado: e1DireccionesTransformadas[0].includes('01')}">
                                            \( 8 \)
                                        </div>

                                        <transition name="foldUnfoldHorizontal">
                                            <div class="numeroTransformable"
                                                @click.stop="e1DireccionesTransformadasToggle(0,'01')"
                                                v-show="e1DireccionesTransformadas[0].includes('01')">\( ( 10 - 2) \)
                                            </div>
                                        </transition>
                                    </div>
                                </div>
                            </transition>
                        </div>
                    </div>
                </div>

                <div class="itemEjemplo">
                    <div class="expresionNumerica">
                        <div class="numeroTransformable" @click.stop="e1DireccionesTransformadasToggle(1,'0')">
                            <div class="explicito" :class="{reemplazado: e1DireccionesTransformadas[1].includes('0')}">
                                \(6\)
                            </div>
                            <transition name="foldUnfoldHorizontal">
                                <div v-show="e1DireccionesTransformadas[1].includes('0')">
                                    <div class="numeroTransformable"
                                        @click.stop="e1DireccionesTransformadasToggle(1,'00')">
                                        <div class="explicito"
                                            :class="{reemplazado: e1DireccionesTransformadas[1].includes('00')}">
                                            \( 15 \)
                                        </div>
                                        <transition name="foldUnfoldHorizontal">
                                            <div class="numeroTransformable"
                                                @click.stop="e1DireccionesTransformadasToggle(1,'00')"
                                                v-show="e1DireccionesTransformadas[1].includes('00')">\( ( {5 \times 3})
                                                \)
                                            </div>
                                        </transition>
                                    </div>

                                    <div @click.stop="e1DireccionesTransformadasToggle(1,'0')">
                                        \(-\)
                                    </div>

                                    <div class="numeroTransformable"
                                        @click.stop="e1DireccionesTransformadasToggle(1,'01')">
                                        <div class="explicito"
                                            :class="{reemplazado: e1DireccionesTransformadas[1].includes('01')}">
                                            \( 9 \)
                                        </div>

                                        <transition name="foldUnfoldHorizontal">
                                            <div class="numeroTransformable"
                                                @click.stop="e1DireccionesTransformadasToggle(1,'01')"
                                                v-show="e1DireccionesTransformadas[1].includes('01')">\( ( 3 + 6) \)
                                            </div>
                                        </transition>
                                    </div>
                                </div>
                            </transition>
                        </div>
                    </div>
                </div>
            </div>
        </bloque-component>


        <p>
            En una expresión numérica recursiva, es importante entender cuáles son los operandos en cada operación.
        </p>

        <bloque-component tipo='ejemplo'>
            <template #cabecera>
                En este cuadro se ven expresiones numéricas recursivas y se señalan los operandos de cada operación.
            </template>

            <div class="listaEjemplos">
                <div class="itemEjemplo">
                    <div class="expresionNumerica">
                        \( (4+5) \times 3 \)
                    </div>
                    <recuadro-component tipo='datoNuevo' style="text-align: left">
                        <ul>
                            <li>
                                Suma:
                                <ul>
                                    <li>
                                        Primer operando: \(4\)
                                    </li>
                                    <li>
                                        Segundo operando: \(5\)
                                    </li>
                                </ul>
                            </li>
                            <li>
                                Multiplicación:
                                <ul>
                                    <li>
                                        Primer operando: \((4 + 5)\)
                                    </li>
                                    <li>
                                        Segundo operando: \(3\)
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </recuadro-component>

                </div>
                <div class="itemEjemplo">
                    <div class="expresionNumerica">
                        \( 1 + {({ {(7 - 2)} \over 2})} \)
                    </div>
                    <recuadro-component tipo='datoNuevo' style="text-align: left">
                        <ul>
                            <li>
                                Suma:
                                <ul>
                                    <li>
                                        Primer operando: \(4\)
                                    </li>
                                    <li>
                                        Segundo operando: \( ({ {(7-2)} \over 2}) \)
                                    </li>
                                </ul>
                            </li>
                            <li>
                                Resta:
                                <ul>
                                    <li>
                                        Primer operando: \( 7 \)
                                    </li>
                                    <li>
                                        Segundo operando: \(2\)
                                    </li>
                                </ul>
                            </li>
                            <li>
                                División:
                                <ul>
                                    <li>
                                        Primer operando: \( ( 7 - 2 ) \)
                                    </li>
                                    <li>
                                        Segundo operando: \(2\)
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </recuadro-component>
                </div>
                <div class="itemEjemplo">
                    <div class="expresionNumerica">
                        \( (3 - 1) ^ 3 \)
                    </div>
                    <recuadro-component tipo='datoNuevo' style="text-align: left">
                        <ul>
                            <li>
                                Resta:
                                <ul>
                                    <li>
                                        Primer operando: \( 3 \)
                                    </li>
                                    <li>
                                        Segundo operando: \(1\)
                                    </li>
                                </ul>
                            </li>
                            <li>
                                Potencia:
                                <ul>
                                    <li>
                                        Primer operando: \( ( 3 - 1 ) \)
                                    </li>
                                    <li>
                                        Segundo operando: \(3\)
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </recuadro-component>
                </div>
                <div class="itemEjemplo">
                    <div class="expresionNumerica">
                        \( (4+5) \times (\sqrt[2]{3}) \)
                    </div>
                    <recuadro-component tipo='datoNuevo' style="text-align: left">
                        <ul>
                            <li>
                                Suma:
                                <ul>
                                    <li>
                                        Primer operando: \( 4 \)
                                    </li>
                                    <li>
                                        Segundo operando: \(5\)
                                    </li>
                                </ul>
                            </li>
                            <li>
                                Radicación:
                                <ul>
                                    <li>
                                        Primer operando: \( 3 \)
                                    </li>
                                    <li>
                                        Segundo operando: \( 2 \)
                                    </li>
                                </ul>
                            </li>
                            <li>
                                Multiplicación:
                                <ul>
                                    <li>
                                        Primer operando: \( ( 4 + 5 ) \)
                                    </li>
                                    <li>
                                        Segundo operando: \((\sqrt[2]{3})\)
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </recuadro-component>
                </div>
            </div>

        </bloque-component>


    </div>
</body>

</html>

<script>
    const {createApp} = Vue;
    createApp({
        components: {
            recuadroComponent,
            bloqueComponent,
            enlaceComponent
        },
        data() {
            return {
                e1DireccionesTransformadas: [[], []],
                numerosTransformablesTransformados: [false, false, false, false, false, false, false]
            }
        },
        methods: {
            e1DireccionesTransformadasToggle(indexNumero, direccion) {
                console.log(`Toggling ${direccion} en el número ${indexNumero}`);
                if (indexNumero >= this.e1DireccionesTransformadas.length) {
                    console.log(`No había lista para este index`);
                    return;
                }
                let lista = this.e1DireccionesTransformadas[indexNumero];
                let indexD = lista.indexOf(direccion);
                if (indexD > -1) {
                    this.e1DireccionesTransformadas[indexNumero] = lista.filter(dir => dir.slice(0, direccion.length) != direccion);
                }
                else {
                    this.e1DireccionesTransformadas[indexNumero].push(direccion)
                }
            },
            toggleExpresionNumerica(index) {
                this.mostrandoExpresionNumerica[index] = !this.mostrandoExpresionNumerica[index];
                this.$nextTick(() => {
                    MathJax.typeset();
                });
            },
            ejemploDesplegado() {
                console.log("Relanzando typeset")
                this.$nextTick(() => {
                    MathJax.typeset();
                })
            },
            ejemploPlegado() {
                for (var i = 0; i < this.numerosTransformablesTransformados.length; i++) {
                    this.numerosTransformablesTransformados[i] = false;
                }
            }

        }
    }).mount("#doc");
</script>

<style>
    body {
        padding: 2% 5%;
    }

    .itemEjemplo {}

    .itemEjemplo .boton {
        width: 160px;
    }

    .expresionNumerica {
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        z-index: 0;
        background-color: var(--paletaFondo)
    }

    .expresionNumerica div {
        display: flex;
        gap: 10px;
        align-items: center;
    }

    .numeroTransformable {
        position: relative;
    }

    .parentesisExtremo {
        font-size: 35px;
    }

    .contenedorNumeroTransformable {
        height: 50px;
        position: relative;
        cursor: pointer;
    }

    .contenedorNumeroTransformable .opcion {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    .numero {
        text-align: center;
    }


    .travelUp-enter-active {
        animation: travelUp 0.5s;
        animation-iteration-count: 1;
    }

    .travelUp-leave-active {
        animation: travelUp 0.5s;
        animation-iteration-count: 1;
        animation-direction: reverse;
    }

    .travelDown-enter-active {
        animation: travelDown 0.5s;
        animation-iteration-count: 1;
    }

    .travelDown-leave-active {
        animation: travelDown 0.5s;
        animation-iteration-count: 1;
        animation-direction: reverse;
    }



    @keyframes travelUp {
        0% {
            transform: translateY(-100%);
            opacity: 0;
        }

        100% {
            transform: translateY(0%);
            opacity: 1;
        }
    }

    @keyframes travelDown {
        0% {
            transform: translateY(100%);
            opacity: 0;
        }

        100% {
            transform: translateY(0%);
            opacity: 1;
        }
    }

    .reemplazado {
        position: absolute;
        z-index: -1;
        left: 50%;
        transform: translateX(-50%);
        opacity: 0;
    }

    .foldUnfoldHorizontal-leave-active {
        animation: foldEspecial 1s;
        position: absolute;
        left: 50%;
        transform-origin: center;
    }

    .explicito:not(.reemplazado) {
        transition: opacity 1.3s ease-in;
    }

    @keyframes foldEspecial {
        0% {
            transform: translateX(-50%) scaleX(1);
        }

        100% {
            transform: translateX(-50%) scaleX(0);
        }
    }
</style>
